<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
    <style></style>

    <link rel="stylesheet" href="css/style.css">
    <script src="js/antlr-client.js"></script>
</head>
<body>

    <P>
<TEXTAREA name="grammar" id="grammar" rows="10" cols="40">
parser grammar ExprParser;
options { tokenVocab=ExprLexer; }

program
    : stat EOF
    | def EOF
    ;

stat: ID '=' expr ';'
    | expr ';'
    ;

def : ID '(' ID (',' ID)* ')' '{' stat* '}' ;

expr: ID
    | INT
    | func
    | 'not' expr
    | expr 'and' expr
    | expr 'or' expr
    ;

func : ID '(' expr (',' expr)* ')' ;
</TEXTAREA>

<TEXTAREA name="lexgrammar" id="lexgrammar" rows="10" cols="40">
lexer grammar ExprLexer;

AND : 'and' ;
OR : 'or' ;
NOT : 'not' ;
EQ : '=' ;
COMMA : ',' ;
SEMI : ';' ;
LPAREN : '(' ;
RPAREN : ')' ;
LCURLY : '{' ;
RCURLY : '}' ;

INT : [0-9]+ ;
ID: [a-zA-Z_][a-zA-Z_0-9]* ;
WS: [ \t\n\r\f]+ -> skip ;
</TEXTAREA>
            </P>
<p>
    <div class='inputbox' id="input" contenteditable="true">foo(able, y, z) { x = x and y or z; g(30); }</div>
</p>
    <INPUT type="text" id="start" name="start" value="program">
    <br>
    <br>
    <button type="button" onclick="run_antlr()">RUN</button>

<br>
<br>
    <div id="console"></div> <!-- tool errors -->
    <div id="parse_errors"></div>
</body>
</html>

